<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Mon Dec 05 15:47:34 PST 2022 -->
<title>ConfigService</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-12-05">
<meta name="description" content="declaration: package: org.epics.archiverappliance.config, interface: ConfigService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ConfigService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.epics.archiverappliance.config</a></div>
<h1 title="Interface ConfigService" class="title">Interface ConfigService</h1>
</div>
<section class="description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DefaultConfigService.html" title="class in org.epics.archiverappliance.config">DefaultConfigService</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ConfigService</span></div>
<div class="block">Interface for appliance configuration.
 One gets to a config service implementation thru dependency injection of one kind or the other.
 In a servlet container, this is initialized by ArchServletContextListener (which is registered as part of the web.xml).
 ArchServletContextListener is also used in the unit tests that involve tomcat. 
 Guice is a good option for this but it takes over the dispatch logic from tomcat and we'll need to investigate if that has any impact.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>mshankar</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="ConfigService.STARTUP_SEQUENCE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.STARTUP_SEQUENCE</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="ConfigService.WAR_FILE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.WAR_FILE</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_APPLIANCES">ARCHAPPL_APPLIANCES</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">This is the environment variable that points to the file containing the various appliances in this cluster.</div>
</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_CONFIGSERVICE_IMPL">ARCHAPPL_CONFIGSERVICE_IMPL</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">This is an optional environment variable/system property that is used to identify the config service implementation.</div>
</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_MYIDENTITY">ARCHAPPL_MYIDENTITY</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">This is an optional environment variable that determines this appliance's identity.</div>
</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY">ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_PERSISTENCE_LAYER">ARCHAPPL_PERSISTENCE_LAYER</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">This is an optional environment/system.property that is used to identity the persistence layer
 If this is not set, we initialize MySQLPersistence as the persistence layer; so in production environments, you can leave this unset/blank
 Set this to the class name of the class implementing <a href="ConfigPersistence.html" title="interface in org.epics.archiverappliance.config"><code>ConfigPersistence</code></a>
 The unit tests however will set this to use InMemoryPersistence, which is a dummy persistence layer.</div>
</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_POLICIES">ARCHAPPL_POLICIES</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">This is an optional environment/system.property that is used to specify the location of the <code>policies.py</code> policies file.</div>
</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_PROPERTIES_FILENAME">ARCHAPPL_PROPERTIES_FILENAME</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">The name/path of the archappl.properties file.</div>
</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#ARCHAPPL_SITEID">ARCHAPPL_SITEID</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">This is the environment variable that identifies the site (LCLS, LCLSII, slacdev, NSLSII etc) to be used when generating the war files.</div>
</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#CONFIG_SERVICE_NAME">CONFIG_SERVICE_NAME</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">This is the name used to identify the config service implementation in one of the existing singletons (like the ServletContext)</div>
</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#DEFAULT_ARCHAPPL_PROPERTIES_FILENAME">DEFAULT_ARCHAPPL_PROPERTIES_FILENAME</a></span></code></div>
<div class="col-last odd-row-color">
<div class="block">This is the name of the properties file that is looked for in the webapp's classpath if one is not specified using a environment/JVM property.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#addAlias(java.lang.String,java.lang.String)">addAlias</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;realName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Register an alias</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#addExternalArchiverDataServer(java.lang.String,java.lang.String)">addExternalArchiverDataServer</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serverURL,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archivesCSV)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Add a external Archiver Data Server into the system.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#addShutdownHook(java.lang.Runnable)">addShutdownHook</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Add an appserver agnostic shutdown hook; for example, to close the CA channels on shutdown</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#addToArchiveRequests(java.lang.String,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">addToArchiveRequests</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecifiedSamplingParams)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The workflow for requesting a PV to be archived consists of multiple steps
 This method adds a PV to the persisted list of PVs that are currently engaged in this workflow in addition to any user specified overrides</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#archiveRequestWorkflowCompleted(java.lang.String)">archiveRequestWorkflowCompleted</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Mark this pv as having it archive pv request completed and pull this request out of persistent store
 Can be used in the case of aborting a PV archive request as well</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../mgmt/policy/PolicyConfig.html" title="class in org.epics.archiverappliance.mgmt.policy">PolicyConfig</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#computePolicyForPV(java.lang.String,org.epics.archiverappliance.config.MetaInfo,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">computePolicyForPV</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="MetaInfo.html" title="class in org.epics.archiverappliance.config">MetaInfo</a>&nbsp;metaInfo,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecParams)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Given a pvName (for now, we should have a pv details object of some kind soon), determine the policy applicable for archiving this PV.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#doesPVHaveArchiveRequestInWorkflow(java.lang.String)">doesPVHaveArchiveRequestInWorkflow</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvname)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Is this pv in the archive request workflow.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ApplianceAggregateInfo.html" title="class in org.epics.archiverappliance.config">ApplianceAggregateInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAggregatedApplianceInfo(org.epics.archiverappliance.config.ApplianceInfo)">getAggregatedApplianceInfo</a></span>&#8203;(<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;applianceInfo)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Facilitates various optimizations for BPL that uses appliance wide information by caching and maintaining this information on a per appliance basis</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAllAliases()">getAllAliases</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get all the aliases in the system.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAllExpandedNames(java.util.function.Consumer)">getAllExpandedNames</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;func)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">For automated PV submission, IOC engineers could add .VAL, fields, aliases etc.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAllPVs()">getAllPVs</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get an exhaustive list of all the PVs this cluster of appliances knows about
 Much goodness is facilitated if the objects are returned in the same order (perhaps order of creation) all the time.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAppliance(java.lang.String)">getAppliance</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identity)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Given an identity of an appliance, return the appliance info for that appliance</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getApplianceForPV(java.lang.String)">getApplianceForPV</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Given a PV, get us the appliance that is responsible for archiving it.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getAppliancesInCluster()">getAppliancesInCluster</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get all the appliances in this cluster.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getArchiveRequestsCurrentlyInWorkflow()">getArchiveRequestsCurrentlyInWorkflow</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Gets a list of PVs that are currently engaged in the archive PV workflow</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="TypeSystem.html" title="interface in org.epics.archiverappliance.config">TypeSystem</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getArchiverTypeSystem()">getArchiverTypeSystem</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Returns a TypeSystem object that is used to convert from JCA DBR's to Event's (actually, DBRTimeEvents)</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ChannelArchiverDataServerPVInfo.html" title="class in org.epics.archiverappliance.config">ChannelArchiverDataServerPVInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getChannelArchiverDataServers(java.lang.String)">getChannelArchiverDataServers</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return a list of ChannelArchiverDataServerPVInfos for a PV if one exists; otherwise return null.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../engine/pv/EngineContext.html" title="class in org.epics.archiverappliance.engine.pv">EngineContext</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getEngineContext()">getEngineContext</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return the runtime state for the engine.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../etl/common/PBThreeTierETLPVLookup.html" title="class in org.epics.archiverappliance.etl.common">PBThreeTierETLPVLookup</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getETLLookup()">getETLLookup</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return the runtime state for ETL.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>com.google.common.eventbus.EventBus</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getEventBus()">getEventBus</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get the event bus used for events within this appliance.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getExternalArchiverDataServers()">getExternalArchiverDataServers</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">This product has the ability to proxy data from other archiver data servers.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getExtraFields()">getExtraFields</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get a list of extra fields that are obtained when we initially make a request for archiving.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getFailoverApplianceURL(java.lang.String)">getFailoverApplianceURL</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get the first external archiver appliance that also archives this PV and is configured with a mergeDuringRetrieval query parameter.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getFailoverServerURLs()">getFailoverServerURLs</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get a list of external archiver appliances configured for failover.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getFieldsArchivedAsPartOfStream()">getFieldsArchivedAsPartOfStream</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">This product offers the ability to archive certain fields (like HIHI, LOLO etc) as part of every PV.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getInitialDelayBeforeStartingArchiveRequestWorkflow()">getInitialDelayBeforeStartingArchiveRequestWorkflow</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">In clustered environments, to give capacity planning a chance to work correctly, we want to kick off the archive PV workflow only after all the machines have started.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getInstallationProperties()">getInstallationProperties</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">An arbitrary list of name/value pairs can be specified in a file called archappl.properties that is loaded from the classpath.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../mgmt/MgmtRuntimeState.html" title="class in org.epics.archiverappliance.mgmt">MgmtRuntimeState</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getMgmtRuntimeState()">getMgmtRuntimeState</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return the runtime state for the mgmt webapp.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getMyApplianceInfo()">getMyApplianceInfo</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get the appliance information for this appliance.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getNamedFlag(java.lang.String)">getNamedFlag</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Named flags are used to control various process in the appliance; for example, the ETL process in a PlainPBStoragePlugin
 Named flags are not persistent; each time the server starts up, all the named flags are set to false
 You can optionally load values for named flags from a file by specifying the ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY property in archappl.properties.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getNamedFlagNames()">getNamedFlagNames</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return the names of all the named flags that we know about</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPausedPVsInThisAppliance()">getPausedPVsInThisAppliance</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get a set of PVs that have been paused in this appliance.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPoliciesInInstallation()">getPoliciesInInstallation</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return a map of name to description of all the policies in the system
 This is used to drive a dropdown in the UI.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPolicyText()">getPolicyText</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Return the text of the policy for this installation.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="PVNameToKeyMapping.html" title="interface in org.epics.archiverappliance.config">PVNameToKeyMapping</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPVNameToKeyConverter()">getPVNameToKeyConverter</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Implementation for converting a PV name to something that forms the prefix of a chunk's key.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPVsForAppliance(org.epics.archiverappliance.config.ApplianceInfo)">getPVsForAppliance</a></span>&#8203;(<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;info)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get all PVs being archived by this appliance.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPVsForApplianceMatchingRegex(java.lang.String)">getPVsForApplianceMatchingRegex</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nameToMatch)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get the pvNames for this appliance matching the given regex.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getPVsForThisAppliance()">getPVsForThisAppliance</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get all the PVs for this appliance.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getRealNameForAlias(java.lang.String)">getRealNameForAlias</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Gets the .NAME field for a PV if it exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../retrieval/RetrievalState.html" title="class in org.epics.archiverappliance.retrieval">RetrievalState</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getRetrievalRuntimeState()">getRetrievalRuntimeState</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Returns the runtime state for the retrieval app</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getRuntimeFields()">getRuntimeFields</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get a list of fields for PVs that are monitored and maintained in the engine.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ConfigService.STARTUP_SEQUENCE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.STARTUP_SEQUENCE</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getStartupState()">getStartupState</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Used for inter-appliance startup checks.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getTimeOfAppserverStartup()">getTimeOfAppserverStartup</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Get an approximate time in epoch seconds when the appserver started up.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="PVTypeInfo.html" title="class in org.epics.archiverappliance.config">PVTypeInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getTypeInfoForPV(java.lang.String)">getTypeInfoForPV</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Gets information about a PV's type, i.e its DBR type, graphic limits etc.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getUserSpecifiedSamplingParams(java.lang.String)">getUserSpecifiedSamplingParams</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Returns any user specified parameters for the archive request.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="ConfigService.WAR_FILE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.WAR_FILE</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getWarFile()">getWarFile</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Which component is this configservice instance.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getWebInfFolder()">getWebInfFolder</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">We expect to live within a servlet container.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#initialize(javax.servlet.ServletContext)">initialize</a></span>&#8203;(javax.servlet.ServletContext&nbsp;sce)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">If you have a null constructor and need a ServletContext, implement this method.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#isBeingArchivedOnThisAppliance(java.lang.String)">isBeingArchivedOnThisAppliance</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Is this PV archived on this appliance.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#isShuttingDown()">isShuttingDown</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Is this appliance component shutting down?</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#isStartupComplete()">isStartupComplete</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Have we completed all the startup steps?</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#postStartup()">postStartup</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">This method is called after the mgmt WAR file has started up and set up the cluster and recovered data from persistence.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#refreshPVDataFromChannelArchiverDataServers()">refreshPVDataFromChannelArchiverDataServers</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">For all the Channel Archiver XMLRPC data servers in the mix, update the PV info.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#registerPVToAppliance(java.lang.String,org.epics.archiverappliance.config.ApplianceInfo)">registerPVToAppliance</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;applianceInfo)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Make changes in the config service to register this PV to an appliance</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#removeAlias(java.lang.String,java.lang.String)">removeAlias</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;realName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Remove an alias for the specified realname</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#removeExternalArchiverDataServer(java.lang.String,java.lang.String)">removeExternalArchiverDataServer</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serverURL,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archivesCSV)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Removes an entry for an external Archiver Data Server from the system
 Note; we may need to restart the entire cluster for this change to take effect.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#removePVFromCluster(java.lang.String)">removePVFromCluster</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Remove the pv from all cached and persisted configuration.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#resetFailoverCaches()">resetFailoverCaches</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Each retrieval component in a cluster caches the PV's from remote failover appliances.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#setNamedFlag(java.lang.String,boolean)">setNamedFlag</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Sets the value of the named flag specified by name to the specified value</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#shutdownNow()">shutdownNow</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Call the registered shutdown hooks and shut the archive appliance down.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#updateArchiveRequest(java.lang.String,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">updateArchiveRequest</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecifiedSamplingParams)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Update the archive request (mostly with aliases) if and only if we have this in our persistence.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#updateTypeInfoForPV(java.lang.String,org.epics.archiverappliance.config.PVTypeInfo)">updateTypeInfoForPV</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="PVTypeInfo.html" title="class in org.epics.archiverappliance.config">PVTypeInfo</a>&nbsp;typeInfo)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Update the type information about a PV; updating both ther persistent and cached versions of the information.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="ARCHAPPL_APPLIANCES">
<h3>ARCHAPPL_APPLIANCES</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_APPLIANCES</span></div>
<div class="block">This is the environment variable that points to the file containing the various appliances in this cluster.
 This list of appliances is expected to be the same for all appliances in the cluster; so it is perfectly legal to place it in NFS somewhere and point to the same file/location from all appliances in the cluster.
 It is reasonably important that all appliances see the same list of cluster members or we tend to have split-brain effects (<a href="http://en.wikipedia.org/wiki/Split-brain_%28computing%29">See wikipedia</a>).
 The format of the file itself is simple XML like so
 <pre>
 &lt;appliances&gt;
   &lt;appliance&gt;
     &lt;identity&gt;archiver&lt;/identity&gt;
     &lt;cluster_inetport&gt;archiver:77770&lt;/cluster_inetport&gt;
     &lt;mgmt_url&gt;http://archiver.slac.stanford.edu:77765/mgmt/bpl&lt;/mgmt_url&gt;
     &lt;engine_url&gt;http://archiver.slac.stanford.edu:77765/engine/bpl&lt;/engine_url&gt;
     &lt;etl_url&gt;http://archiver.slac.stanford.edu:77765/etl/bpl&lt;/etl_url&gt;
     &lt;retrieval_url&gt;http://archiver.slac.stanford.edu:77765/retrieval/bpl&lt;/retrieval_url&gt;
     &lt;data_retrieval_url&gt;http://archiver.slac.stanford.edu:77765/retrieval/&lt;/data_retrieval_url&gt;
   &lt;/appliance&gt;
 &lt;/appliances&gt;
 </pre>
 Note that the appliance identity as defined by the <code>ARCHAPPL_MYIDENTITY</code> has to match the <code>identity</code> element of one of the appliances in the list of appliances as defined by the <code>ARCHAPPL_APPLIANCES</code>.
 Each appliance (which includes the mgmt, engine, etl and retrieval WAR's) must have a unique identity. 
 <br>
 If the <code>ARCHAPPL_APPLIANCES</code> is not set, then we look for a file called <code>appliances.xml</code> in the WEB-INF/classes of the current WAR using WEB-INF/classes/appliances.xml.
 The default build script places the site-specific <code>appliances.xml</code> into WEB-INF/classes/appliances.xml.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_APPLIANCES">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_MYIDENTITY">
<h3>ARCHAPPL_MYIDENTITY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_MYIDENTITY</span></div>
<div class="block">This is an optional environment variable that determines this appliance's identity.
 If this is not set, the archiver appliance uses <code>InetAddress.getLocalHost().getCanonicalHostName()</code> to determine the FQDN of this machine. 
 This is then used as the appliance identity to lookup the appliance info in <code>ARCHAPPL_APPLIANCES</code>. 
 To use this environment variable, for example, in Linux, set the appliance's identity using <code>export ARCHAPPL_MYIDENTITY="archiver"</code>.
 Each appliance (which includes the mgmt, engine, etl and retrieval WAR's) must have a unique identity. 
 
 To accommodate the multi-instance unit tests, if this environment variable is not set, we check for the existence of the java system property <code>ARCHAPPL_MYIDENTITY</code>.
 Typically, the multi-instance unit tests (which are incapable of altering the environment) use the java system property method.
 In environments that run the unit tests, leave the environment variable ARCHAPPL_MYIDENTITY unset so that the various multi-instance unit tests have the ability to control the appliance identity.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_MYIDENTITY">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_SITEID">
<h3>ARCHAPPL_SITEID</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_SITEID</span></div>
<div class="block">This is the environment variable that identifies the site (LCLS, LCLSII, slacdev, NSLSII etc) to be used when generating the war files.
 This is primarily a build-time property; the build.xml has various site specific hooks which let you change the appliances.xml, policies, images etc on a per site basis.
 The unit tests use the <code>tests</code> site which is also the default site if this environment variable is not specified.
 Files for a site are stored in the sitespecific/&lt;site&gt; folder.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_SITEID">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_CONFIGSERVICE_IMPL">
<h3>ARCHAPPL_CONFIGSERVICE_IMPL</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_CONFIGSERVICE_IMPL</span></div>
<div class="block">This is an optional environment variable/system property that is used to identify the config service implementation.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_CONFIGSERVICE_IMPL">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CONFIG_SERVICE_NAME">
<h3>CONFIG_SERVICE_NAME</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">CONFIG_SERVICE_NAME</span></div>
<div class="block">This is the name used to identify the config service implementation in one of the existing singletons (like the ServletContext)</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.CONFIG_SERVICE_NAME">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_PERSISTENCE_LAYER">
<h3>ARCHAPPL_PERSISTENCE_LAYER</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_PERSISTENCE_LAYER</span></div>
<div class="block">This is an optional environment/system.property that is used to identity the persistence layer
 If this is not set, we initialize MySQLPersistence as the persistence layer; so in production environments, you can leave this unset/blank
 Set this to the class name of the class implementing <a href="ConfigPersistence.html" title="interface in org.epics.archiverappliance.config"><code>ConfigPersistence</code></a>
 The unit tests however will set this to use InMemoryPersistence, which is a dummy persistence layer.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_PERSISTENCE_LAYER">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_POLICIES">
<h3>ARCHAPPL_POLICIES</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_POLICIES</span></div>
<div class="block">This is an optional environment/system.property that is used to specify the location of the <code>policies.py</code> policies file.
 If this is not set, we search for the  <code>policies.py</code> in the servlet classpath using the path <code>/WEB-INF/classes/policies.py</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_POLICIES">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_PROPERTIES_FILENAME">
<h3>ARCHAPPL_PROPERTIES_FILENAME</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_PROPERTIES_FILENAME</span></div>
<div class="block">The name/path of the archappl.properties file.
 By default, we look for archappl.properties in the webapp's classpath - this will typically resolve into WEB-INF/classes of the webapp.
 However, you can override this using an environment variable (or java system property) of the same name.
 For example, <code>export ARCHAPPL_PROPERTIES_FILENAME=/etc/mylab_archappl.properties</code> should force the components to load their properties from <code>/etc/mylab_archappl.properties</code></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_PROPERTIES_FILENAME">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_ARCHAPPL_PROPERTIES_FILENAME">
<h3>DEFAULT_ARCHAPPL_PROPERTIES_FILENAME</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">DEFAULT_ARCHAPPL_PROPERTIES_FILENAME</span></div>
<div class="block">This is the name of the properties file that is looked for in the webapp's classpath if one is not specified using a environment/JVM property.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.DEFAULT_ARCHAPPL_PROPERTIES_FILENAME">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY">
<h3>ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../constant-values.html#org.epics.archiverappliance.config.ConfigService.ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initialize(javax.servlet.ServletContext)">
<h3>initialize</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">initialize</span>&#8203;<span class="parameters">(javax.servlet.ServletContext&nbsp;sce)</span>
         throws <span class="exceptions"><a href="exception/ConfigException.html" title="class in org.epics.archiverappliance.config.exception">ConfigException</a></span></div>
<div class="block">If you have a null constructor and need a ServletContext, implement this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sce</code> - ServletContext</dd>
<dt>Throws:</dt>
<dd><code><a href="exception/ConfigException.html" title="class in org.epics.archiverappliance.config.exception">ConfigException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWebInfFolder()">
<h3>getWebInfFolder</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getWebInfFolder</span>()</div>
<div class="block">We expect to live within a servlet container. 
 This call returns the full path to the WEB-INF folder of the webapp as it is deployed in the container.
 Is typically a call to the <code>servletContext.getRealPath("WEB-INF/")</code></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String WebInfFolder &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="postStartup()">
<h3>postStartup</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">postStartup</span>()
          throws <span class="exceptions"><a href="exception/ConfigException.html" title="class in org.epics.archiverappliance.config.exception">ConfigException</a></span></div>
<div class="block">This method is called after the mgmt WAR file has started up and set up the cluster and recovered data from persistence.
 Each appliance's mgmt war is responsible for calling this method on the other components (engine, etl and retrieval) using BPL.
 Until this method is called on all the web apps, the cluster is not considered to have started up.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="exception/ConfigException.html" title="class in org.epics.archiverappliance.config.exception">ConfigException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStartupState()">
<h3>getStartupState</h3>
<div class="member-signature"><span class="return-type"><a href="ConfigService.STARTUP_SEQUENCE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.STARTUP_SEQUENCE</a></span>&nbsp;<span class="element-name">getStartupState</span>()</div>
<div class="block">Used for inter-appliance startup checks.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>STARTUP_SEQUENCE  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isStartupComplete()">
<h3>isStartupComplete</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isStartupComplete</span>()</div>
<div class="block">Have we completed all the startup steps?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeOfAppserverStartup()">
<h3>getTimeOfAppserverStartup</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getTimeOfAppserverStartup</span>()</div>
<div class="block">Get an approximate time in epoch seconds when the appserver started up.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The time this app server started up.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInstallationProperties()">
<h3>getInstallationProperties</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a></span>&nbsp;<span class="element-name">getInstallationProperties</span>()</div>
<div class="block">An arbitrary list of name/value pairs can be specified in a file called archappl.properties that is loaded from the classpath.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Properties &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAppliancesInCluster()">
<h3>getAppliancesInCluster</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&gt;</span>&nbsp;<span class="element-name">getAppliancesInCluster</span>()</div>
<div class="block">Get all the appliances in this cluster.
 Much goodness is facilitated if the objects are returned in the same order (perhaps order of creation) all the time.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>ApplianceInfo &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMyApplianceInfo()">
<h3>getMyApplianceInfo</h3>
<div class="member-signature"><span class="return-type"><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></span>&nbsp;<span class="element-name">getMyApplianceInfo</span>()</div>
<div class="block">Get the appliance information for this appliance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>ApplianceInfo  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAppliance(java.lang.String)">
<h3>getAppliance</h3>
<div class="member-signature"><span class="return-type"><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></span>&nbsp;<span class="element-name">getAppliance</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;identity)</span></div>
<div class="block">Given an identity of an appliance, return the appliance info for that appliance</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>identity</code> - The appliance identify</dd>
<dt>Returns:</dt>
<dd>ApplianceInfo &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllPVs()">
<h3>getAllPVs</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getAllPVs</span>()</div>
<div class="block">Get an exhaustive list of all the PVs this cluster of appliances knows about
 Much goodness is facilitated if the objects are returned in the same order (perhaps order of creation) all the time.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String AllPVs &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllExpandedNames(java.util.function.Consumer)">
<h3>getAllExpandedNames</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">getAllExpandedNames</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/function/Consumer.html" title="class or interface in java.util.function" class="external-link">Consumer</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;func)</span></div>
<div class="block">For automated PV submission, IOC engineers could add .VAL, fields, aliases etc.
 This method attempts to return all possible PV's that the archiver could know about.
 This is a lot of names; so we take in a consumer that potentially streams a name out as quickly as possible.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>func</code> - A consumer of pvNames</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getApplianceForPV(java.lang.String)">
<h3>getApplianceForPV</h3>
<div class="member-signature"><span class="return-type"><a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a></span>&nbsp;<span class="element-name">getApplianceForPV</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Given a PV, get us the appliance that is responsible for archiving it.
 Note that this may be null as the assignment of PV's to appliances can take some time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>ApplianceInfo &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPVsForAppliance(org.epics.archiverappliance.config.ApplianceInfo)">
<h3>getPVsForAppliance</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getPVsForAppliance</span>&#8203;<span class="parameters">(<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;info)</span></div>
<div class="block">Get all PVs being archived by this appliance.
 Much goodness is facilitated if the objects are returned in the same order (perhaps order of creation) all the time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>info</code> - ApplianceInfo</dd>
<dt>Returns:</dt>
<dd>string All PVs being archiveed by this appliance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPVsForThisAppliance()">
<h3>getPVsForThisAppliance</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getPVsForThisAppliance</span>()</div>
<div class="block">Get all the PVs for this appliance.
 Much goodness is facilitated if the objects are returned in the same order (perhaps order of creation) all the time.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String All PVs being archiveed for this appliance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isBeingArchivedOnThisAppliance(java.lang.String)">
<h3>isBeingArchivedOnThisAppliance</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isBeingArchivedOnThisAppliance</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Is this PV archived on this appliance.
 This method also checks aliases and fields.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPVsForApplianceMatchingRegex(java.lang.String)">
<h3>getPVsForApplianceMatchingRegex</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getPVsForApplianceMatchingRegex</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;nameToMatch)</span></div>
<div class="block">Get the pvNames for this appliance matching the given regex.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nameToMatch</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>string PVsForApplianceMatchingRegex   &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerPVToAppliance(java.lang.String,org.epics.archiverappliance.config.ApplianceInfo)">
<h3>registerPVToAppliance</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">registerPVToAppliance</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;applianceInfo)</span>
                    throws <span class="exceptions"><a href="exception/AlreadyRegisteredException.html" title="class in org.epics.archiverappliance.config.exception">AlreadyRegisteredException</a></span></div>
<div class="block">Make changes in the config service to register this PV to an appliance</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>applianceInfo</code> - ApplianceInfo</dd>
<dt>Throws:</dt>
<dd><code><a href="exception/AlreadyRegisteredException.html" title="class in org.epics.archiverappliance.config.exception">AlreadyRegisteredException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTypeInfoForPV(java.lang.String)">
<h3>getTypeInfoForPV</h3>
<div class="member-signature"><span class="return-type"><a href="PVTypeInfo.html" title="class in org.epics.archiverappliance.config">PVTypeInfo</a></span>&nbsp;<span class="element-name">getTypeInfoForPV</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Gets information about a PV's type, i.e its DBR type, graphic limits etc.
 This information is assumed to be somewhat static and is expected to come from a cache if possible as it is used in data retrieval.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>PVTypeInfo  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateTypeInfoForPV(java.lang.String,org.epics.archiverappliance.config.PVTypeInfo)">
<h3>updateTypeInfoForPV</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">updateTypeInfoForPV</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="PVTypeInfo.html" title="class in org.epics.archiverappliance.config">PVTypeInfo</a>&nbsp;typeInfo)</span></div>
<div class="block">Update the type information about a PV; updating both ther persistent and cached versions of the information. 
 Clients are not expected to call this method a million times a second. 
 In general, this is expected to be called when archiving a PV for the first time, or perhaps when an appserver startups etc...</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>typeInfo</code> - PVTypeInfo</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removePVFromCluster(java.lang.String)">
<h3>removePVFromCluster</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removePVFromCluster</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Remove the pv from all cached and persisted configuration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAggregatedApplianceInfo(org.epics.archiverappliance.config.ApplianceInfo)">
<h3>getAggregatedApplianceInfo</h3>
<div class="member-signature"><span class="return-type"><a href="ApplianceAggregateInfo.html" title="class in org.epics.archiverappliance.config">ApplianceAggregateInfo</a></span>&nbsp;<span class="element-name">getAggregatedApplianceInfo</span>&#8203;<span class="parameters">(<a href="ApplianceInfo.html" title="class in org.epics.archiverappliance.config">ApplianceInfo</a>&nbsp;applianceInfo)</span>
                                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Facilitates various optimizations for BPL that uses appliance wide information by caching and maintaining this information on a per appliance basis</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>applianceInfo</code> - ApplianceInfo</dd>
<dt>Returns:</dt>
<dd>ApplianceAggregateInfo  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addToArchiveRequests(java.lang.String,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">
<h3>addToArchiveRequests</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addToArchiveRequests</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecifiedSamplingParams)</span></div>
<div class="block">The workflow for requesting a PV to be archived consists of multiple steps
 This method adds a PV to the persisted list of PVs that are currently engaged in this workflow in addition to any user specified overrides</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>userSpecifiedSamplingParams</code> - - Use a null contructor for userSpecifiedSamplingParams if no override specified.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateArchiveRequest(java.lang.String,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">
<h3>updateArchiveRequest</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">updateArchiveRequest</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecifiedSamplingParams)</span></div>
<div class="block">Update the archive request (mostly with aliases) if and only if we have this in our persistence.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>userSpecifiedSamplingParams</code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getArchiveRequestsCurrentlyInWorkflow()">
<h3>getArchiveRequestsCurrentlyInWorkflow</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getArchiveRequestsCurrentlyInWorkflow</span>()</div>
<div class="block">Gets a list of PVs that are currently engaged in the archive PV workflow</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String ArchiveRequestsCurrentlyInWorkflow  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doesPVHaveArchiveRequestInWorkflow(java.lang.String)">
<h3>doesPVHaveArchiveRequestInWorkflow</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">doesPVHaveArchiveRequestInWorkflow</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvname)</span></div>
<div class="block">Is this pv in the archive request workflow.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvname</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInitialDelayBeforeStartingArchiveRequestWorkflow()">
<h3>getInitialDelayBeforeStartingArchiveRequestWorkflow</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getInitialDelayBeforeStartingArchiveRequestWorkflow</span>()</div>
<div class="block">In clustered environments, to give capacity planning a chance to work correctly, we want to kick off the archive PV workflow only after all the machines have started.
 This is an approximation for that metric; though not a very satisfactory approximation.
 TODO -- Think thru implications of making the appliances.xml strict...</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>- Initial delay in seconds.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUserSpecifiedSamplingParams(java.lang.String)">
<h3>getUserSpecifiedSamplingParams</h3>
<div class="member-signature"><span class="return-type"><a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a></span>&nbsp;<span class="element-name">getUserSpecifiedSamplingParams</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Returns any user specified parameters for the archive request.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>UserSpecifiedSamplingParams  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="archiveRequestWorkflowCompleted(java.lang.String)">
<h3>archiveRequestWorkflowCompleted</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">archiveRequestWorkflowCompleted</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Mark this pv as having it archive pv request completed and pull this request out of persistent store
 Can be used in the case of aborting a PV archive request as well</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExtraFields()">
<h3>getExtraFields</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">getExtraFields</span>()</div>
<div class="block">Get a list of extra fields that are obtained when we initially make a request for archiving.
 These are used in the policies to make decisions on how to archive the PV.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String ExtraFields  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRuntimeFields()">
<h3>getRuntimeFields</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getRuntimeFields</span>()</div>
<div class="block">Get a list of fields for PVs that are monitored and maintained in the engine.
 These are used when displaying the PV in visualization tools like the ArchiveViewer as additional information for the PV.
 Some of these could be archived along with the PV but need not be. 
 In this case, the engine simply maintains the latest copy in memory and this is served up when data from the engine in included in the stream.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String RuntimeFields</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAlias(java.lang.String,java.lang.String)">
<h3>addAlias</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addAlias</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;realName)</span></div>
<div class="block">Register an alias</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>aliasName</code> - &emsp;</dd>
<dd><code>realName</code> - This is the name under which the PV will be archived under</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeAlias(java.lang.String,java.lang.String)">
<h3>removeAlias</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removeAlias</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;realName)</span></div>
<div class="block">Remove an alias for the specified realname</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>aliasName</code> - &emsp;</dd>
<dd><code>realName</code> - This is the name under which the PV will be archived under</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllAliases()">
<h3>getAllAliases</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getAllAliases</span>()</div>
<div class="block">Get all the aliases in the system. This is used for matching during glob requests in the UI.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String AllAliases &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRealNameForAlias(java.lang.String)">
<h3>getRealNameForAlias</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getRealNameForAlias</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;aliasName)</span></div>
<div class="block">Gets the .NAME field for a PV if it exists. Otherwise, this returns null</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>aliasName</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>String RealNameForAlias</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPolicyText()">
<h3>getPolicyText</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">getPolicyText</span>()
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Return the text of the policy for this installation.
 Gets you an InputStream; remember to close it.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>InputStream  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computePolicyForPV(java.lang.String,org.epics.archiverappliance.config.MetaInfo,org.epics.archiverappliance.config.UserSpecifiedSamplingParams)">
<h3>computePolicyForPV</h3>
<div class="member-signature"><span class="return-type"><a href="../mgmt/policy/PolicyConfig.html" title="class in org.epics.archiverappliance.mgmt.policy">PolicyConfig</a></span>&nbsp;<span class="element-name">computePolicyForPV</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="MetaInfo.html" title="class in org.epics.archiverappliance.config">MetaInfo</a>&nbsp;metaInfo,
 <a href="UserSpecifiedSamplingParams.html" title="class in org.epics.archiverappliance.config">UserSpecifiedSamplingParams</a>&nbsp;userSpecParams)</span>
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Given a pvName (for now, we should have a pv details object of some kind soon), determine the policy applicable for archiving this PV.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>metaInfo</code> - The MetaInfo of PV</dd>
<dd><code>userSpecParams</code> - UserSpecifiedSamplingParams</dd>
<dt>Returns:</dt>
<dd>PolicyConfig  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPoliciesInInstallation()">
<h3>getPoliciesInInstallation</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html" title="class or interface in java.util" class="external-link">HashMap</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getPoliciesInInstallation</span>()
                                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Return a map of name to description of all the policies in the system
 This is used to drive a dropdown in the UI.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>HashMap  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFieldsArchivedAsPartOfStream()">
<h3>getFieldsArchivedAsPartOfStream</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getFieldsArchivedAsPartOfStream</span>()
                                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">This product offers the ability to archive certain fields (like HIHI, LOLO etc) as part of every PV.
 The data for these fields is embedded into the stream as extra fields using the FieldValues interface of events.
 This method lists all these fields.
 Requests for archiving these fields are deferred to and combined with the request for archiving the .VAL.
 We also assume that the data type (double/float) for these fields is the same as the .VAL.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getArchiverTypeSystem()">
<h3>getArchiverTypeSystem</h3>
<div class="member-signature"><span class="return-type"><a href="TypeSystem.html" title="interface in org.epics.archiverappliance.config">TypeSystem</a></span>&nbsp;<span class="element-name">getArchiverTypeSystem</span>()</div>
<div class="block">Returns a TypeSystem object that is used to convert from JCA DBR's to Event's (actually, DBRTimeEvents)</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>TypeSystem  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getWarFile()">
<h3>getWarFile</h3>
<div class="member-signature"><span class="return-type"><a href="ConfigService.WAR_FILE.html" title="enum class in org.epics.archiverappliance.config">ConfigService.WAR_FILE</a></span>&nbsp;<span class="element-name">getWarFile</span>()</div>
<div class="block">Which component is this configservice instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>WAR_FILE  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRetrievalRuntimeState()">
<h3>getRetrievalRuntimeState</h3>
<div class="member-signature"><span class="return-type"><a href="../retrieval/RetrievalState.html" title="class in org.epics.archiverappliance.retrieval">RetrievalState</a></span>&nbsp;<span class="element-name">getRetrievalRuntimeState</span>()</div>
<div class="block">Returns the runtime state for the retrieval app</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>RetrievalState &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getETLLookup()">
<h3>getETLLookup</h3>
<div class="member-signature"><span class="return-type"><a href="../etl/common/PBThreeTierETLPVLookup.html" title="class in org.epics.archiverappliance.etl.common">PBThreeTierETLPVLookup</a></span>&nbsp;<span class="element-name">getETLLookup</span>()</div>
<div class="block">Return the runtime state for ETL.
 This may eventually be moved to a RunTime class but that would still start from the configservice.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>PBThreeTierETLPVLookup &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEngineContext()">
<h3>getEngineContext</h3>
<div class="member-signature"><span class="return-type"><a href="../engine/pv/EngineContext.html" title="class in org.epics.archiverappliance.engine.pv">EngineContext</a></span>&nbsp;<span class="element-name">getEngineContext</span>()</div>
<div class="block">Return the runtime state for the engine.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>EngineContext &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMgmtRuntimeState()">
<h3>getMgmtRuntimeState</h3>
<div class="member-signature"><span class="return-type"><a href="../mgmt/MgmtRuntimeState.html" title="class in org.epics.archiverappliance.mgmt">MgmtRuntimeState</a></span>&nbsp;<span class="element-name">getMgmtRuntimeState</span>()</div>
<div class="block">Return the runtime state for the mgmt webapp.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>MgmtRuntimeStat &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isShuttingDown()">
<h3>isShuttingDown</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isShuttingDown</span>()</div>
<div class="block">Is this appliance component shutting down?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addShutdownHook(java.lang.Runnable)">
<h3>addShutdownHook</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addShutdownHook</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</span></div>
<div class="block">Add an appserver agnostic shutdown hook; for example, to close the CA channels on shutdown</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runnable</code> - Runnable</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shutdownNow()">
<h3>shutdownNow</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">shutdownNow</span>()</div>
<div class="block">Call the registered shutdown hooks and shut the archive appliance down.</div>
</section>
</li>
<li>
<section class="detail" id="getEventBus()">
<h3>getEventBus</h3>
<div class="member-signature"><span class="return-type">com.google.common.eventbus.EventBus</span>&nbsp;<span class="element-name">getEventBus</span>()</div>
<div class="block">Get the event bus used for events within this appliance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>EventBus &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExternalArchiverDataServers()">
<h3>getExternalArchiverDataServers</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getExternalArchiverDataServers</span>()</div>
<div class="block">This product has the ability to proxy data from other archiver data servers.
 We currently integrate with Channel Archiver XMLRPC data servers and other EPICS Archiver Appliance clusters. 
 Get a list of external Archiver Data Servers that we know about.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Map ExternalArchiverDataServers</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addExternalArchiverDataServer(java.lang.String,java.lang.String)">
<h3>addExternalArchiverDataServer</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addExternalArchiverDataServer</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serverURL,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archivesCSV)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Add a external Archiver Data Server into the system.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverURL</code> - - For Channel Archivers, this is the URL to the XML-RPC server. For other EPICS Archiver Appliance clusters, this is the <code>data_retrieval_url</code> of the cluster as defined in the <code>appliances.xml</code>.</dd>
<dd><code>archivesCSV</code> - - For Channel Archivers, this is a comma separated list of indexes. For other EPICS Archiver Appliance clusters, this is the string <i>pbraw</i>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeExternalArchiverDataServer(java.lang.String,java.lang.String)">
<h3>removeExternalArchiverDataServer</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removeExternalArchiverDataServer</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;serverURL,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;archivesCSV)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Removes an entry for an external Archiver Data Server from the system
 Note; we may need to restart the entire cluster for this change to take effect.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>serverURL</code> - - For Channel Archivers, this is the URL to the XML-RPC server. For other EPICS Archiver Appliance clusters, this is the <code>data_retrieval_url</code> of the cluster as defined in the <code>appliances.xml</code>.</dd>
<dd><code>archivesCSV</code> - - For Channel Archivers, this is a comma separated list of indexes. For other EPICS Archiver Appliance clusters, this is the string <i>pbraw</i>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getChannelArchiverDataServers(java.lang.String)">
<h3>getChannelArchiverDataServers</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ChannelArchiverDataServerPVInfo.html" title="class in org.epics.archiverappliance.config">ChannelArchiverDataServerPVInfo</a>&gt;</span>&nbsp;<span class="element-name">getChannelArchiverDataServers</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Return a list of ChannelArchiverDataServerPVInfos for a PV if one exists; otherwise return null.
 The servers are sorted in order of the start seconds. 
 Note: this only applies to Channel Archiver XML RPC servers.
 For proxying external EPICS Archiver Appliance clusters, we do not cache the PV's that are being archived on the external system.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>ChannelArchiverDataServerPVInfo  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="refreshPVDataFromChannelArchiverDataServers()">
<h3>refreshPVDataFromChannelArchiverDataServers</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">refreshPVDataFromChannelArchiverDataServers</span>()</div>
<div class="block">For all the Channel Archiver XMLRPC data servers in the mix, update the PV info. 
 This should help improve performance a little in proxying data from ChannelArchiver data servers that are still active.
 For proxying external EPICS Archiver Appliance clusters, since we do not cache the PV's that are being archived on the external system, this is a no-op.</div>
</section>
</li>
<li>
<section class="detail" id="getFailoverServerURLs()">
<h3>getFailoverServerURLs</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getFailoverServerURLs</span>()</div>
<div class="block">Get a list of external archiver appliances configured for failover.
 Failover appliances are not used as proxies to minimize imposing the retrieval load of the this installation on a potentially less powerful appliance used principally for failover.</div>
<dl class="notes">
<dt>Returns:</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFailoverApplianceURL(java.lang.String)">
<h3>getFailoverApplianceURL</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getFailoverApplianceURL</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span></div>
<div class="block">Get the first external archiver appliance that also archives this PV and is configured with a mergeDuringRetrieval query parameter.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>- Returns null if no failover appliance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetFailoverCaches()">
<h3>resetFailoverCaches</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">resetFailoverCaches</span>()</div>
<div class="block">Each retrieval component in a cluster caches the PV's from remote failover appliances.
 These caches contain one entry for each PV in this appliance indicating if the PV is being archived in the remote appliance.
 This information is cached using a TTL to minimize the impact on the remote failover appliance. 
 This method manually unloads this cache.</div>
</section>
</li>
<li>
<section class="detail" id="getPVNameToKeyConverter()">
<h3>getPVNameToKeyConverter</h3>
<div class="member-signature"><span class="return-type"><a href="PVNameToKeyMapping.html" title="interface in org.epics.archiverappliance.config">PVNameToKeyMapping</a></span>&nbsp;<span class="element-name">getPVNameToKeyConverter</span>()</div>
<div class="block">Implementation for converting a PV name to something that forms the prefix of a chunk's key.
  See @see{PVNameToKeyMapping} for more details.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>PVNameToKeyMapping  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPausedPVsInThisAppliance()">
<h3>getPausedPVsInThisAppliance</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getPausedPVsInThisAppliance</span>()</div>
<div class="block">Get a set of PVs that have been paused in this appliance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNamedFlag(java.lang.String)">
<h3>getNamedFlag</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">getNamedFlag</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Named flags are used to control various process in the appliance; for example, the ETL process in a PlainPBStoragePlugin
 Named flags are not persistent; each time the server starts up, all the named flags are set to false
 You can optionally load values for named flags from a file by specifying the ARCHAPPL_NAMEDFLAGS_PROPERTIES_FILE_PROPERTY property in archappl.properties.
 This method gets the value of the specified named flag.
 If the flag has not been defined before in the cluster, this method will return false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setNamedFlag(java.lang.String,boolean)">
<h3>setNamedFlag</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setNamedFlag</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 boolean&nbsp;value)</span></div>
<div class="block">Sets the value of the named flag specified by name to the specified value</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - &emsp;</dd>
<dd><code>value</code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNamedFlagNames()">
<h3>getNamedFlagNames</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getNamedFlagNames</span>()</div>
<div class="block">Return the names of all the named flags that we know about</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>String  &emsp;</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
