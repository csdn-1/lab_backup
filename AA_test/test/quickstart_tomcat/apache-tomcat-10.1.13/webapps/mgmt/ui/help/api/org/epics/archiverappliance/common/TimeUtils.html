<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Mon Dec 05 15:47:34 PST 2022 -->
<title>TimeUtils</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-12-05">
<meta name="description" content="declaration: package: org.epics.archiverappliance.common, class: TimeUtils">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TimeUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.epics.archiverappliance.common</a></div>
<h1 title="Class TimeUtils" class="title">Class TimeUtils</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.epics.archiverappliance.common.TimeUtils</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TimeUtils</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">There are various versions of timestamps in the archiver appliance. 
 The most commonly used one is java.sql.Timestamp and is the one exposed in the APIs.
 The other versions are follows
 <ol>
 <li>A long epoch seconds + optional nanos - The seconds part is the java epoch seconds, as returned by System.currentMillis()/1000</li>
 <li>A long epoch milliseconds - This is the java epoch milliseconds, as returned by System.currentMillis()</li>
 <li>A JCA timestamp - This is what comes out of JCA</li>
 <li>A year/secondsintoyear/nanos combination - This is what is used in the protocol buffer storage plugin.</li>
 <li>A ISO 8601 date time - We use JODA to convert from/to a ISO 8601 string</li>
 </ol>
 
 This class contains utilities to convert various forms of timestamps to/from the java.sql.Timestamp.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>mshankar</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static long</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#EPICS_EPOCH_2_JAVA_EPOCH_OFFSET">EPICS_EPOCH_2_JAVA_EPOCH_OFFSET</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">EPICS epoch starts at January 1, 1990 UTC.</div>
</div>
<div class="col-first odd-row-color"><code>static org.apache.log4j.Logger</code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#logger">logger</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">TimeUtils</a></span>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TimeSpan.html" title="class in org.epics.archiverappliance.common">TimeSpan</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#breakIntoIntervals(java.sql.Timestamp,java.sql.Timestamp,long)">breakIntoIntervals</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;end,
 long&nbsp;binSizeInSeconds)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Break a time span into smaller time spans according to binSize
 The first time span has the start time and the end of the first bin.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TimeSpan.html" title="class in org.epics.archiverappliance.common">TimeSpan</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#breakIntoYearlyTimeSpans(java.sql.Timestamp,java.sql.Timestamp)">breakIntoYearlyTimeSpans</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;end)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Given a start time and an end time, this method breaks this span into a sequence of spans each of which fits within a year.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static short</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#computeYearForEpochSeconds(long)">computeYearForEpochSeconds</a></span>&#8203;(long&nbsp;epochseconds)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Determine year from java epoch seconds.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromDateTimeStringWithOffset(java.lang.String)">convertFromDateTimeStringWithOffset</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tsstr)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromEpochMillis(long)">convertFromEpochMillis</a></span>&#8203;(long&nbsp;epochMillis)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromEpochSeconds(long,int)">convertFromEpochSeconds</a></span>&#8203;(long&nbsp;epochSeconds,
 int&nbsp;nanos)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromISO8601String(java.lang.String)">convertFromISO8601String</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tsstr)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromJCATimeStamp(gov.aps.jca.dbr.TimeStamp)">convertFromJCATimeStamp</a></span>&#8203;(gov.aps.jca.dbr.TimeStamp&nbsp;jcats)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertFromYearSecondTimestamp(org.epics.archiverappliance.common.YearSecondTimestamp)">convertFromYearSecondTimestamp</a></span>&#8203;(<a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a>&nbsp;ysts)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToEpochMillis(java.sql.Timestamp)">convertToEpochMillis</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToEpochSeconds(java.sql.Timestamp)">convertToEpochSeconds</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToHumanReadableString(long)">convertToHumanReadableString</a></span>&#8203;(long&nbsp;epochSeconds)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToHumanReadableString(java.sql.Timestamp)">convertToHumanReadableString</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToISO8601String(long)">convertToISO8601String</a></span>&#8203;(long&nbsp;epochSeconds)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToISO8601String(java.sql.Timestamp)">convertToISO8601String</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToLocalEpochMillis(long)">convertToLocalEpochMillis</a></span>&#8203;(long&nbsp;epochMillis)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToTenthsOfASecond(long,int)">convertToTenthsOfASecond</a></span>&#8203;(long&nbsp;epochSeconds,
 int&nbsp;nanos)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Event rate rate limiting uses a tenths of a seconds units to cater to monitor intervals of 0.1 seconds, 0.5 seconds etc..</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToYearSecondTimestamp(long)">convertToYearSecondTimestamp</a></span>&#8203;(long&nbsp;epochSeconds)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToYearSecondTimestamp(gov.aps.jca.dbr.TimeStamp)">convertToYearSecondTimestamp</a></span>&#8203;(gov.aps.jca.dbr.TimeStamp&nbsp;jcats)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convertToYearSecondTimestamp(java.sql.Timestamp)">convertToYearSecondTimestamp</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCurrentEpochMilliSeconds()">getCurrentEpochMilliSeconds</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the current epoch milli seconds in the UTC timezone</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCurrentEpochSeconds()">getCurrentEpochSeconds</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the current epoch seconds in the UTC timezone</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static short</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCurrentYear()">getCurrentYear</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Get the current year in the UTC timezone</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getEndOfYear(int)">getEndOfYear</a></span>&#8203;(int&nbsp;year)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getNextPartitionFirstSecond(long,org.epics.archiverappliance.common.PartitionGranularity)">getNextPartitionFirstSecond</a></span>&#8203;(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Given an epoch seconds and a granularity, this method gives you the first second in the next partition as epoch seconds.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getPartitionName(long,org.epics.archiverappliance.common.PartitionGranularity)">getPartitionName</a></span>&#8203;(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Returns a partition name for the given epoch second based on the partition granularity.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getPreviousPartitionLastSecond(long,org.epics.archiverappliance.common.PartitionGranularity)">getPreviousPartitionLastSecond</a></span>&#8203;(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Given an epoch seconds and a granularity, this method gives you the last second in the previous partition as epoch seconds.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getSecondsIntoYear(long)">getSecondsIntoYear</a></span>&#8203;(long&nbsp;epochseconds)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Convert Java EPOCH seconds to a seconds into year</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getSecondsIntoYear(long,long)">getSecondsIntoYear</a></span>&#8203;(long&nbsp;epochseconds,
 long&nbsp;startOfYearInSeconds)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Convert Java EPOCH seconds to a seconds into year given the start of the year in EPOCH seconds</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfCurrentDayInEpochSeconds()">getStartOfCurrentDayInEpochSeconds</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfCurrentYearInSeconds()">getStartOfCurrentYearInSeconds</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfYear(int)">getStartOfYear</a></span>&#8203;(int&nbsp;year)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfYearInSeconds(int)">getStartOfYearInSeconds</a></span>&#8203;(int&nbsp;year)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfYearInSeconds(long)">getStartOfYearInSeconds</a></span>&#8203;(long&nbsp;epochseconds)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getStartOfYearInSeconds(short)">getStartOfYearInSeconds</a></span>&#8203;(short&nbsp;year)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">In the protocol buffer storage plugin, we send the year as a short</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#isDST(java.sql.Timestamp)">isDST</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Whether we are in DST for a particular time in the servers default timezone.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#minusDays(java.sql.Timestamp,int)">minusDays</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;days)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#minusHours(java.sql.Timestamp,int)">minusHours</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;hours)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#now()">now</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Gets "now" as a Timestamp in the UTC timezone</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#nowYTS()">nowYTS</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Gets "now" as a YearSecondTimestamp in the UTC timezone</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#plusDays(java.sql.Timestamp,int)">plusDays</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;days)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#plusHours(java.sql.Timestamp,int)">plusHours</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;hours)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="EPICS_EPOCH_2_JAVA_EPOCH_OFFSET">
<h3>EPICS_EPOCH_2_JAVA_EPOCH_OFFSET</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">EPICS_EPOCH_2_JAVA_EPOCH_OFFSET</span></div>
<div class="block">EPICS epoch starts at January 1, 1990 UTC.
 This constant contains the offset that must be added to epicstimestamps to generate java timestamps.</div>
</section>
</li>
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">org.apache.log4j.Logger</span>&nbsp;<span class="element-name">logger</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>TimeUtils</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TimeUtils</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="convertFromEpochSeconds(long,int)">
<h3>convertFromEpochSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromEpochSeconds</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds,
 int&nbsp;nanos)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertFromEpochMillis(long)">
<h3>convertFromEpochMillis</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromEpochMillis</span>&#8203;<span class="parameters">(long&nbsp;epochMillis)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertFromJCATimeStamp(gov.aps.jca.dbr.TimeStamp)">
<h3>convertFromJCATimeStamp</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromJCATimeStamp</span>&#8203;<span class="parameters">(gov.aps.jca.dbr.TimeStamp&nbsp;jcats)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertFromYearSecondTimestamp(org.epics.archiverappliance.common.YearSecondTimestamp)">
<h3>convertFromYearSecondTimestamp</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromYearSecondTimestamp</span>&#8203;<span class="parameters">(<a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a>&nbsp;ysts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertFromISO8601String(java.lang.String)">
<h3>convertFromISO8601String</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromISO8601String</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tsstr)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertFromDateTimeStringWithOffset(java.lang.String)">
<h3>convertFromDateTimeStringWithOffset</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">convertFromDateTimeStringWithOffset</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tsstr)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToEpochSeconds(java.sql.Timestamp)">
<h3>convertToEpochSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">convertToEpochSeconds</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToEpochMillis(java.sql.Timestamp)">
<h3>convertToEpochMillis</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">convertToEpochMillis</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToYearSecondTimestamp(java.sql.Timestamp)">
<h3>convertToYearSecondTimestamp</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></span>&nbsp;<span class="element-name">convertToYearSecondTimestamp</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToYearSecondTimestamp(gov.aps.jca.dbr.TimeStamp)">
<h3>convertToYearSecondTimestamp</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></span>&nbsp;<span class="element-name">convertToYearSecondTimestamp</span>&#8203;<span class="parameters">(gov.aps.jca.dbr.TimeStamp&nbsp;jcats)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToYearSecondTimestamp(long)">
<h3>convertToYearSecondTimestamp</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></span>&nbsp;<span class="element-name">convertToYearSecondTimestamp</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToISO8601String(java.sql.Timestamp)">
<h3>convertToISO8601String</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertToISO8601String</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToISO8601String(long)">
<h3>convertToISO8601String</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertToISO8601String</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToHumanReadableString(java.sql.Timestamp)">
<h3>convertToHumanReadableString</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertToHumanReadableString</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToHumanReadableString(long)">
<h3>convertToHumanReadableString</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">convertToHumanReadableString</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds)</span></div>
</section>
</li>
<li>
<section class="detail" id="convertToLocalEpochMillis(long)">
<h3>convertToLocalEpochMillis</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">convertToLocalEpochMillis</span>&#8203;<span class="parameters">(long&nbsp;epochMillis)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStartOfCurrentYearInSeconds()">
<h3>getStartOfCurrentYearInSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getStartOfCurrentYearInSeconds</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getStartOfYearInSeconds(int)">
<h3>getStartOfYearInSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getStartOfYearInSeconds</span>&#8203;<span class="parameters">(int&nbsp;year)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStartOfYear(int)">
<h3>getStartOfYear</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">getStartOfYear</span>&#8203;<span class="parameters">(int&nbsp;year)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStartOfYearInSeconds(long)">
<h3>getStartOfYearInSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getStartOfYearInSeconds</span>&#8203;<span class="parameters">(long&nbsp;epochseconds)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStartOfYearInSeconds(short)">
<h3>getStartOfYearInSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getStartOfYearInSeconds</span>&#8203;<span class="parameters">(short&nbsp;year)</span></div>
<div class="block">In the protocol buffer storage plugin, we send the year as a short</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>year</code> - Year</dd>
<dt>Returns:</dt>
<dd>startOfYearInEpochSeconds  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEndOfYear(int)">
<h3>getEndOfYear</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">getEndOfYear</span>&#8203;<span class="parameters">(int&nbsp;year)</span></div>
</section>
</li>
<li>
<section class="detail" id="getStartOfCurrentDayInEpochSeconds()">
<h3>getStartOfCurrentDayInEpochSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getStartOfCurrentDayInEpochSeconds</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getSecondsIntoYear(long,long)">
<h3>getSecondsIntoYear</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSecondsIntoYear</span>&#8203;<span class="parameters">(long&nbsp;epochseconds,
 long&nbsp;startOfYearInSeconds)</span></div>
<div class="block">Convert Java EPOCH seconds to a seconds into year given the start of the year in EPOCH seconds</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochseconds</code> - &emsp;</dd>
<dd><code>startOfYearInSeconds</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>SecondsIntoYear The difference in Seconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSecondsIntoYear(long)">
<h3>getSecondsIntoYear</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSecondsIntoYear</span>&#8203;<span class="parameters">(long&nbsp;epochseconds)</span></div>
<div class="block">Convert Java EPOCH seconds to a seconds into year</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochseconds</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>SecondsIntoYear The difference in Seconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeYearForEpochSeconds(long)">
<h3>computeYearForEpochSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">short</span>&nbsp;<span class="element-name">computeYearForEpochSeconds</span>&#8203;<span class="parameters">(long&nbsp;epochseconds)</span></div>
<div class="block">Determine year from java epoch seconds.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochseconds</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>YearForEpochSeconds &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentYear()">
<h3>getCurrentYear</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">short</span>&nbsp;<span class="element-name">getCurrentYear</span>()</div>
<div class="block">Get the current year in the UTC timezone</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>CurrentYear &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentEpochSeconds()">
<h3>getCurrentEpochSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentEpochSeconds</span>()</div>
<div class="block">Gets the current epoch seconds in the UTC timezone</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>currentEpochSeconds &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentEpochMilliSeconds()">
<h3>getCurrentEpochMilliSeconds</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentEpochMilliSeconds</span>()</div>
<div class="block">Gets the current epoch milli seconds in the UTC timezone</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>currentEpochMilliSeconds &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="now()">
<h3>now</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">now</span>()</div>
<div class="block">Gets "now" as a Timestamp in the UTC timezone</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>now A Timestamp in the UTC timezone</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nowYTS()">
<h3>nowYTS</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="YearSecondTimestamp.html" title="class in org.epics.archiverappliance.common">YearSecondTimestamp</a></span>&nbsp;<span class="element-name">nowYTS</span>()</div>
<div class="block">Gets "now" as a YearSecondTimestamp in the UTC timezone</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>now A YearSecondTimestamp in the UTC timezone</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="plusHours(java.sql.Timestamp,int)">
<h3>plusHours</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">plusHours</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;hours)</span></div>
</section>
</li>
<li>
<section class="detail" id="minusHours(java.sql.Timestamp,int)">
<h3>minusHours</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">minusHours</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;hours)</span></div>
</section>
</li>
<li>
<section class="detail" id="plusDays(java.sql.Timestamp,int)">
<h3>plusDays</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">plusDays</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;days)</span></div>
</section>
</li>
<li>
<section class="detail" id="minusDays(java.sql.Timestamp,int)">
<h3>minusDays</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a></span>&nbsp;<span class="element-name">minusDays</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts,
 int&nbsp;days)</span></div>
</section>
</li>
<li>
<section class="detail" id="breakIntoYearlyTimeSpans(java.sql.Timestamp,java.sql.Timestamp)">
<h3>breakIntoYearlyTimeSpans</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TimeSpan.html" title="class in org.epics.archiverappliance.common">TimeSpan</a>&gt;</span>&nbsp;<span class="element-name">breakIntoYearlyTimeSpans</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;end)</span></div>
<div class="block">Given a start time and an end time, this method breaks this span into a sequence of spans each of which fits within a year.
 Used where data is partitioned by year....</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>start</code> - The start time</dd>
<dd><code>end</code> - The end time</dd>
<dt>Returns:</dt>
<dd>breakIntoYearlyTimeSpans   &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPartitionName(long,org.epics.archiverappliance.common.PartitionGranularity)">
<h3>getPartitionName</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getPartitionName</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</span></div>
<div class="block">Returns a partition name for the given epoch second based on the partition granularity.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochSeconds</code> - &emsp;</dd>
<dd><code>granularity</code> - Partition granularity of the file.</dd>
<dt>Returns:</dt>
<dd>PartitionName &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextPartitionFirstSecond(long,org.epics.archiverappliance.common.PartitionGranularity)">
<h3>getNextPartitionFirstSecond</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getNextPartitionFirstSecond</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</span></div>
<div class="block">Given an epoch seconds and a granularity, this method gives you the first second in the next partition as epoch seconds.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochSeconds</code> - &emsp;</dd>
<dd><code>granularity</code> - Partition granularity of the file.</dd>
<dt>Returns:</dt>
<dd>NextPartitionFirstSecond &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPreviousPartitionLastSecond(long,org.epics.archiverappliance.common.PartitionGranularity)">
<h3>getPreviousPartitionLastSecond</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getPreviousPartitionLastSecond</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds,
 <a href="PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;granularity)</span></div>
<div class="block">Given an epoch seconds and a granularity, this method gives you the last second in the previous partition as epoch seconds.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochSeconds</code> - &emsp;</dd>
<dd><code>granularity</code> - Partition granularity of the file.</dd>
<dt>Returns:</dt>
<dd>PreviousPartitionLastSecond  &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convertToTenthsOfASecond(long,int)">
<h3>convertToTenthsOfASecond</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">convertToTenthsOfASecond</span>&#8203;<span class="parameters">(long&nbsp;epochSeconds,
 int&nbsp;nanos)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/NumberFormatException.html" title="class or interface in java.lang" class="external-link">NumberFormatException</a></span></div>
<div class="block">Event rate rate limiting uses a tenths of a seconds units to cater to monitor intervals of 0.1 seconds, 0.5 seconds etc.. 
 This converts a epochSeconds+nanos to time in terms of tenths of a second.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>epochSeconds</code> - &emsp;</dd>
<dd><code>nanos</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>TenthsOfASecond  &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/NumberFormatException.html" title="class or interface in java.lang" class="external-link">NumberFormatException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDST(java.sql.Timestamp)">
<h3>isDST</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDST</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;ts)</span></div>
<div class="block">Whether we are in DST for a particular time in the servers default timezone.
 Mostly used by Matlab.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ts</code> - Timestamp</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="breakIntoIntervals(java.sql.Timestamp,java.sql.Timestamp,long)">
<h3>breakIntoIntervals</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="TimeSpan.html" title="class in org.epics.archiverappliance.common">TimeSpan</a>&gt;</span>&nbsp;<span class="element-name">breakIntoIntervals</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;end,
 long&nbsp;binSizeInSeconds)</span></div>
<div class="block">Break a time span into smaller time spans according to binSize
 The first time span has the start time and the end of the first bin.
 The next one has the end of the first bin and the start of the second bin.
 The last time span has the end as its end.
 This is sometimes used to try to speed up retrieval when using post processors over a large time span.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>start</code> - Timestamp start</dd>
<dd><code>end</code> - Timestamp end</dd>
<dd><code>binSizeInSeconds</code> - &emsp;</dd>
<dt>Returns:</dt>
<dd>TimeSpan The list of smaller time spans according to binSize</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
