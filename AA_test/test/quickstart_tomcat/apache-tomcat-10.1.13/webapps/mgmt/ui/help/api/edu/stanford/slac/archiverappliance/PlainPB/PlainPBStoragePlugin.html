<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Mon Dec 05 15:47:34 PST 2022 -->
<title>PlainPBStoragePlugin</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-12-05">
<meta name="description" content="declaration: package: edu.stanford.slac.archiverappliance.PlainPB, class: PlainPBStoragePlugin">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PlainPBStoragePlugin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">edu.stanford.slac.archiverappliance.PlainPB</a></div>
<h1 title="Class PlainPBStoragePlugin" class="title">Class PlainPBStoragePlugin</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code>, <code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code>, <code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code>, <code><a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a></code>, <code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code>, <code><a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PlainPBStoragePlugin</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a>, <a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a>, <a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a>, <a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></span></div>
<div class="block">The plain PB storage plugin stores data in a chunk per PV per partition in sequential form.
 No index is maintained, simple search algorithms are used to locate events.
 This plugin has these configuration parameters.
 <dl>
 <dt>name</dt><dd>This serves to identify this plugin; mandatory</dd>
 <dt>rootFolder</dt><dd>This serves as the rootFolder that is prepended to the path generated for a PV+chunk ; mandatory. 
 One can use environment variables here; for example, <code>pb://localhost?name=STS&amp;rootFolder=${ARCHAPPL_SHORT_TERM_FOLDER}&amp;partitionGranularity=PARTITION_HOUR</code> where the value for ${ARCHAPPL_SHORT_TERM_FOLDER} is picked up from the environment/system properties.
 </dd>
 <dt>partitionGranularity</dt><dd>Defines the time partition granularity for this plugin. For example, if the granularity <code>PARTITION_HOUR</code>, then a new chunk is created for each hour of data. The partitions are clean; that is, they contain data only for that partition. It is possible to predict which chunk contains data for a particular instant in time and which chunks contain data for a particular time period. This is a mandatory field.</dd>
 <dt>compress</dt><dd>This is an optional field that defines the compression mode. 
 The support for zip compression is experimental. 
 If the zip compression is used, the <code>rootfolder</code> is prepended with <code><a href="../../../../../org/epics/archiverappliance/utils/nio/ArchPaths.html#ZIP_PREFIX"><code>ZIP_PREFIX</code></a></code>.
 If this is absent in the <code>rootfolder</code>, the initialization code automatically adds it in.
 </dd>
 <dt>hold &amp; gather</dt><dd><code>hold</code> and <code>gather</code> are optional fields that work together to implement high/low watermarks for data transfer.
 By default, both <code>hold</code> and <code>gather</code> are 0 which leads to data being transferred out of this plugin as soon as the partition boundary is reached.
 You can <code>hold</code> a certain number of partitions in this store (perhaps because this store is a high performing one). 
 In this case, ETL does not start until the first event in this store is older than <code>hold</code> partitions.
 Once ETL begins, you can transfer <code>gather</code> partitions at a time.
 For example, <code>hold=5&amp;gather=3</code> lets you keep at least <code>5-3=2</code> partitions in this store. ETL kicks in once the oldest event is older than than <code>5</code> partitions and data is moved <code>3</code> partitions at a time. 
 </dd>
 <dt>pp</dt><dd>An optional parameter, this contains a list of <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors"><code>post processing operators</code></a> that are computed and cached during ETL.
 During retrieval, if an exact match is found, then the data from the cached copy is used (greatly improving retrieval performance). 
 Otherwise, the post processor is applied and the data is computed at runtime.
 To specify multiple post processors, use standard URL syntax like so <code>pp=rms&amp;pp=mean_3600</code>
 </dd>
 <dt>consolidateOnShutdown</dt><dd>This lets you control if ETL should push data to the subsequent store on appserver shutdown. This is useful if you are using a RAMDisk for the short term store.</dd>
 <dt>reducedata</dt><dd>An optional parameter; use this parameter to reduce the data as you move it into this store. You can use any of the <a href="http://slacmshankar.github.io/epicsarchiver_docs/userguide.html#post_processing">post processors</a> that can be used with the <code>pp</code> argument.
 For example, if you define the LTS as <code>pb://localhost?name=LTS&amp;rootFolder=${ARCHAPPL_LONG_TERM_FOLDER}&amp;partitionGranularity=PARTITION_YEAR&amp;reducedata=firstSample_3600</code>, then when moving data into this store, ETL will apply the <code>firstSample_3600</code> operator on the raw data to reduce the data and store only the reduced data.
 The difference between this parameter and the <code>pp</code> parameter is that in the <code>reducedata</code> case, only the reduced data is stored. The raw data is thrown away.
 If you specify both the <code>pp</code> and the <code>reducedata</code>, you may get unpredictable results because the raw data is necessary to precompute the caches. 
 </dd>
 <dt>etlIntoStoreIf</dt><dd>An optional parameter; use this parameter to control if ETL should move data into this store. 
 If the named flag specified by this parameter is false, this plugin will behave like the blackhole plugin (and you will lose data).
 Note that named flags are false by default; so the default behavior if you specify this flag and forget to the set the named flag is to lose data.
 If you don't set this flag at all; then this plugin behaves normally and will accept all the ETL data coming in.
 For example, if you add a <code>etlIntoStoreIf=testFlag</code>; then data will be moved into this store only if the value of the named flag <code>testFlag</code> is true.
 </dd>
 <dt>etlOutofStoreIf</dt><dd>An optional parameter; use this parameter to control if ETL should move data out of this store. 
 If the named flag specified by this parameter is false, this plugin will behave like a bag of holding and accumulate all the data it can.
 Note that named flags are false by default; so the default behavior if you specify this flag and forget to the set the named flag is to collect data till you run out of space.
 If you don't set this flag at all; then this plugin behaves normally and will move data out as before.
 For example, if you add a <code>etlOutofStoreIf=testFlag</code>; then data will be moved ouf of this store only if the value of the named flag <code>testFlag</code> is true.
 </dd>
 </dl></div>
<dl class="notes">
<dt>Author:</dt>
<dd>mshankar</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="PlainPBStoragePlugin.CompressionMode.html" title="enum class in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">Support for ZIP_PER_PV is still experimental.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#APPEND_EXTENSION">APPEND_EXTENSION</a></span></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><span class="member-name-link"><a href="#PB_EXTENSION">PB_EXTENSION</a></span></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">PlainPBStoragePlugin</a></span>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#appendData(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.EventStream)">appendData</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#appendToETLAppendData(java.lang.String,org.epics.archiverappliance.EventStream,org.epics.archiverappliance.etl.ETLContext)">appendToETLAppendData</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This appends an EventStream to the ETL append data for a PV.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#commitETLAppendData(java.lang.String,org.epics.archiverappliance.etl.ETLContext)">commitETLAppendData</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This concatenates the ETL append data for a PV with the PV's destination data.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#consolidateOnShutdown()">consolidateOnShutdown</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Should ETL move data from this source to the destination on shutdown.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#convert(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.etl.ConversionFunction)">convert</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/etl/ConversionFunction.html" title="interface in org.epics.archiverappliance.etl">ConversionFunction</a>&nbsp;conversionFuntion)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Sometimes, PVs change types, EGUs etc.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="PlainPBStoragePlugin.CompressionMode.html" title="enum class in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getCompressionMode()">getCompressionMode</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getDataForPV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.sql.Timestamp,java.sql.Timestamp)">getDataForPV</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;startTime,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;endTime)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getDataForPV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.sql.Timestamp,java.sql.Timestamp,org.epics.archiverappliance.retrieval.postprocessors.PostProcessor)">getDataForPV</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;startTime,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;endTime,
 <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors">PostProcessor</a>&nbsp;postProcessor)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getDesc()">getDesc</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getDescription()">getDescription</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Get a string description of this plugin; one that can potentially be used in log messages and provide context.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getETLStreams(java.lang.String,java.sql.Timestamp,org.epics.archiverappliance.etl.ETLContext)">getETLStreams</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;currentTime,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Given a pv and a time, this method returns all the streams that are ready for ETL.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getFirstKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">getFirstKnownEvent</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Get the first event for this PV.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>int</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getGatherETLinPartitions()">getGatherETLinPartitions</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getHoldETLForPartions()">getHoldETLForPartions</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">The hold and gather are used to implement a high/low watermark for ETL.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getLastKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">getLastKnownEvent</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the last known event in this destination.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getName()">getName</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Multiple PVs will probably use the same storage area and we identify the area using the name.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getPartitionGranularity()">getPartitionGranularity</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getRootFolder()">getRootFolder</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>long</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getTotalSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">getTotalSpace</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the total space left on this device.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getURLRepresentation()">getURLRepresentation</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Return a URL representation of this plugin suitable for parsing by StoragePluginURLParser</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>long</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#getUsableSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">getUsableSpace</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets the space available to this VM on this device</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#initialize(java.lang.String,org.epics.archiverappliance.config.ConfigService)">initialize</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;configURL,
 <a href="../../../../../org/epics/archiverappliance/config/ConfigService.html" title="interface in org.epics.archiverappliance.config">ConfigService</a>&nbsp;configService)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Each storage plugin is registered to a URI scheme; for example, the PlainStoragePBPlugin uses pb:// as the scheme.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#isBackupFilesBeforeETL()">isBackupFilesBeforeETL</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#markForDeletion(org.epics.archiverappliance.etl.ETLInfo,org.epics.archiverappliance.etl.ETLContext)">markForDeletion</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&nbsp;info,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Delete the ETLStream identifier by info when you can as it has already been consumed by the ETL destination.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#prepareForNewPartition(java.lang.String,org.epics.archiverappliance.Event,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">prepareForNewPartition</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;ev,
 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum class in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;archDBRType,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">This informs the destination that we are switching to a new partition and this dest needs to execute its pre-processing for a new partition.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#renamePV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.lang.String)">renamePV</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;oldName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;newName)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Change the name of a PV.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#runPostProcessors(java.lang.String,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">runPostProcessors</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum class in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;dbrtype,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Run the post processors associated with this plugin if any for this pv.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setBackupFilesBeforeETL(boolean)">setBackupFilesBeforeETL</a></span>&#8203;(boolean&nbsp;backupFilesBeforeETL)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setDesc(java.lang.String)">setDesc</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;newDesc)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setGatherETLinPartitions(int)">setGatherETLinPartitions</a></span>&#8203;(int&nbsp;gatherETLinPartitions)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setHoldETLForPartions(int)">setHoldETLForPartions</a></span>&#8203;(int&nbsp;holdETLForPartions)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setName(java.lang.String)">setName</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setPartitionGranularity(org.epics.archiverappliance.common.PartitionGranularity)">setPartitionGranularity</a></span>&#8203;(<a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;partitionGranularity)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setRootFolder(java.lang.String)">setRootFolder</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootFolder)</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">&nbsp;</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code>long</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#spaceConsumedByPV(java.lang.String)">spaceConsumedByPV</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Gets an estimate of the space consumed by this PV on this device.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="PB_EXTENSION">
<h3>PB_EXTENSION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">PB_EXTENSION</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../../constant-values.html#edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin.PB_EXTENSION">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="APPEND_EXTENSION">
<h3>APPEND_EXTENSION</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">APPEND_EXTENSION</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="../../../../../constant-values.html#edu.stanford.slac.archiverappliance.PlainPB.PlainPBStoragePlugin.APPEND_EXTENSION">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>PlainPBStoragePlugin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PlainPBStoragePlugin</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getDataForPV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.sql.Timestamp,java.sql.Timestamp)">
<h3>getDataForPV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</span>&nbsp;<span class="element-name">getDataForPV</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;startTime,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;endTime)</span>
                                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDataForPV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.sql.Timestamp,java.sql.Timestamp,org.epics.archiverappliance.retrieval.postprocessors.PostProcessor)">
<h3>getDataForPV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;<a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&gt;&gt;</span>&nbsp;<span class="element-name">getDataForPV</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;startTime,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;endTime,
 <a href="../../../../../org/epics/archiverappliance/retrieval/postprocessors/PostProcessor.html" title="interface in org.epics.archiverappliance.retrieval.postprocessors">PostProcessor</a>&nbsp;postProcessor)</span>
                                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Reader.html#getDataForPV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.sql.Timestamp,java.sql.Timestamp,org.epics.archiverappliance.retrieval.postprocessors.PostProcessor)">getDataForPV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="appendData(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.EventStream)">
<h3>appendData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">appendData</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Writer.html#appendData(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.EventStream)">appendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="appendToETLAppendData(java.lang.String,org.epics.archiverappliance.EventStream,org.epics.archiverappliance.etl.ETLContext)">
<h3>appendToETLAppendData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">appendToETLAppendData</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/EventStream.html" title="interface in org.epics.archiverappliance">EventStream</a>&nbsp;stream,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#appendToETLAppendData(java.lang.String,org.epics.archiverappliance.EventStream,org.epics.archiverappliance.etl.ETLContext)">ETLDest</a></code></span></div>
<div class="block">This appends an EventStream to the ETL append data for a PV.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#appendToETLAppendData(java.lang.String,org.epics.archiverappliance.EventStream,org.epics.archiverappliance.etl.ETLContext)">appendToETLAppendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>stream</code> - The EventStream to append to the append data for a PV.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDescription()">
<h3>getDescription</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getDescription</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getDescription()">StoragePlugin</a></code></span></div>
<div class="block">Get a string description of this plugin; one that can potentially be used in log messages and provide context.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#getDescription()">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getDescription()">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getDescription()">getDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt>Returns:</dt>
<dd>description</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialize(java.lang.String,org.epics.archiverappliance.config.ConfigService)">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initialize</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;configURL,
 <a href="../../../../../org/epics/archiverappliance/config/ConfigService.html" title="interface in org.epics.archiverappliance.config">ConfigService</a>&nbsp;configService)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#initialize(java.lang.String,org.epics.archiverappliance.config.ConfigService)">StoragePlugin</a></code></span></div>
<div class="block">Each storage plugin is registered to a URI scheme; for example, the PlainStoragePBPlugin uses pb:// as the scheme.
 Configuration for a storage plugin typically comes in as a URL like URI.
 <ol> 
 <li>The config service identifies the storage plugin using the scheme (&quot;pb&quot; maps to PlainStoragePBPlugin)</li>
 <li>Creates an instance using the default constructor.</li>
 <li>Calls initialize with the complete URL.</li>
 </ol>
 The storage plugin is expected to use the parameters in the URL to initialize itself.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#initialize(java.lang.String,org.epics.archiverappliance.config.ConfigService)">initialize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt>Parameters:</dt>
<dd><code>configURL</code> - The complete URL</dd>
<dd><code>configService</code> - &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
<dt>See Also:</dt>
<dd><a href="../../../../../org/epics/archiverappliance/config/StoragePluginURLParser.html" title="class in org.epics.archiverappliance.config"><code>StoragePluginURLParser</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getURLRepresentation()">
<h3>getURLRepresentation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getURLRepresentation</span>()</div>
<div class="block">Return a URL representation of this plugin suitable for parsing by StoragePluginURLParser</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>ret A URL representation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setRootFolder(java.lang.String)">
<h3>setRootFolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRootFolder</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rootFolder)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDesc(java.lang.String)">
<h3>setDesc</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDesc</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;newDesc)</span></div>
</section>
</li>
<li>
<section class="detail" id="getRootFolder()">
<h3>getRootFolder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getRootFolder</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getDesc()">
<h3>getDesc</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getDesc</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPartitionGranularity()">
<h3>getPartitionGranularity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a></span>&nbsp;<span class="element-name">getPartitionGranularity</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#getPartitionGranularity()">getPartitionGranularity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getPartitionGranularity()">getPartitionGranularity</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setPartitionGranularity(org.epics.archiverappliance.common.PartitionGranularity)">
<h3>setPartitionGranularity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPartitionGranularity</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/PartitionGranularity.html" title="enum class in org.epics.archiverappliance.common">PartitionGranularity</a>&nbsp;partitionGranularity)</span></div>
</section>
</li>
<li>
<section class="detail" id="getETLStreams(java.lang.String,java.sql.Timestamp,org.epics.archiverappliance.etl.ETLContext)">
<h3>getETLStreams</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&gt;</span>&nbsp;<span class="element-name">getETLStreams</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.sql/java/sql/Timestamp.html" title="class or interface in java.sql" class="external-link">Timestamp</a>&nbsp;currentTime,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getETLStreams(java.lang.String,java.sql.Timestamp,org.epics.archiverappliance.etl.ETLContext)">ETLSource</a></code></span></div>
<div class="block">Given a pv and a time, this method returns all the streams that are ready for ETL.
 For example, if the partition granularity of a source is an hour, then this method returns all the streams that are in this source for the previous hours.
 Ideally, these streams must be closed for writing and should not change.
 The ETL process will consolidates these streams into the ETL destination, which is expected to be at a longer time granularity.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#getETLStreams(java.lang.String,java.sql.Timestamp,org.epics.archiverappliance.etl.ETLContext)">getETLStreams</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>currentTime</code> - The time that is being used as the cutoff. If we pass in a timestamp way out into the future, we should return all the streams available.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt>Returns:</dt>
<dd>List ETLinfo</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="markForDeletion(org.epics.archiverappliance.etl.ETLInfo,org.epics.archiverappliance.etl.ETLContext)">
<h3>markForDeletion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">markForDeletion</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/etl/ETLInfo.html" title="class in org.epics.archiverappliance.etl">ETLInfo</a>&nbsp;info,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#markForDeletion(org.epics.archiverappliance.etl.ETLInfo,org.epics.archiverappliance.etl.ETLContext)">ETLSource</a></code></span></div>
<div class="block">Delete the ETLStream identifier by info when you can as it has already been consumed by the ETL destination.
 You can delete it later or immediately.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#markForDeletion(org.epics.archiverappliance.etl.ETLInfo,org.epics.archiverappliance.etl.ETLContext)">markForDeletion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt>Parameters:</dt>
<dd><code>info</code> - ETLInfo</dd>
<dd><code>context</code> - ETLContext</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">
<h3>getLastKnownEvent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></span>&nbsp;<span class="element-name">getLastKnownEvent</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html#getLastKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">Writer</a></code></span></div>
<div class="block">Gets the last known event in this destination. 
 Future events will be appended to this destination only if their timestamp is more recent than the timestamp of this event.
 If there is no last known event, then a null is returned.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Writer.html#getLastKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">getLastKnownEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Writer.html" title="interface in org.epics.archiverappliance">Writer</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dt>Returns:</dt>
<dd>Event The last known event of pvName</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFirstKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">
<h3>getFirstKnownEvent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a></span>&nbsp;<span class="element-name">getFirstKnownEvent</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span>
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html#getFirstKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">Reader</a></code></span></div>
<div class="block">Get the first event for this PV.
 This call is used to optimize away calls to other readers that have older data.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/Reader.html#getFirstKnownEvent(org.epics.archiverappliance.common.BasicContext,java.lang.String)">getFirstKnownEvent</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/Reader.html" title="interface in org.epics.archiverappliance">Reader</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dt>Returns:</dt>
<dd>Event The first event of pvName</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareForNewPartition(java.lang.String,org.epics.archiverappliance.Event,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">
<h3>prepareForNewPartition</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">prepareForNewPartition</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/Event.html" title="interface in org.epics.archiverappliance">Event</a>&nbsp;ev,
 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum class in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;archDBRType,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#prepareForNewPartition(java.lang.String,org.epics.archiverappliance.Event,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">ETLDest</a></code></span></div>
<div class="block">This informs the destination that we are switching to a new partition and this dest needs to execute its pre-processing for a new partition.
 For example, in a PlainPBStorage plugin, this will close the previous fileoutputstreams if any, open a new stream to the file backing the new partition writing a header if needed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#prepareForNewPartition(java.lang.String,org.epics.archiverappliance.Event,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">prepareForNewPartition</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>ev</code> - This is used to determine the partition for the new partition</dd>
<dd><code>archDBRType</code> - ArchDBRTypes</dd>
<dd><code>context</code> - ETLContext</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="commitETLAppendData(java.lang.String,org.epics.archiverappliance.etl.ETLContext)">
<h3>commitETLAppendData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">commitETLAppendData</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#commitETLAppendData(java.lang.String,org.epics.archiverappliance.etl.ETLContext)">ETLDest</a></code></span></div>
<div class="block">This concatenates the ETL append data for a PV with the PV's destination data.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#commitETLAppendData(java.lang.String,org.epics.archiverappliance.etl.ETLContext)">commitETLAppendData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>context</code> - ETLContext</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runPostProcessors(java.lang.String,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">
<h3>runPostProcessors</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">runPostProcessors</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/config/ArchDBRTypes.html" title="enum class in org.epics.archiverappliance.config">ArchDBRTypes</a>&nbsp;dbrtype,
 <a href="../../../../../org/epics/archiverappliance/etl/ETLContext.html" title="class in org.epics.archiverappliance.etl">ETLContext</a>&nbsp;context)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#runPostProcessors(java.lang.String,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">ETLDest</a></code></span></div>
<div class="block">Run the post processors associated with this plugin if any for this pv.
 The post processing is done after the commit and outside of the ETL transaction.
 This process is expected to catch up on previously missed/incomplete computation of cached post processing files.
 I can think of at least two usecases for this - one where we decide to go back and add a post processor for a pv and one where we change the algorithm for the post processor and want to recompute all the cached files again.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html#runPostProcessors(java.lang.String,org.epics.archiverappliance.config.ArchDBRTypes,org.epics.archiverappliance.etl.ETLContext)">runPostProcessors</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLDest.html" title="interface in org.epics.archiverappliance.etl">ETLDest</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dd><code>dbrtype</code> - ArchDBRTypes</dd>
<dd><code>context</code> - ETLContext</dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isBackupFilesBeforeETL()">
<h3>isBackupFilesBeforeETL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBackupFilesBeforeETL</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setBackupFilesBeforeETL(boolean)">
<h3>setBackupFilesBeforeETL</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setBackupFilesBeforeETL</span>&#8203;<span class="parameters">(boolean&nbsp;backupFilesBeforeETL)</span></div>
</section>
</li>
<li>
<section class="detail" id="getHoldETLForPartions()">
<h3>getHoldETLForPartions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getHoldETLForPartions</span>()</div>
<div class="block">The hold and gather are used to implement a high/low watermark for ETL.
 ETL is skipped until the first known event in the partitions available for ETL is earlier than <i>hold</i> partitions.
 Once this is true, we then include in the ETL list all partitions whose first event is earlier than <i>hold - gather</i> partitions.
 For example, in a PARTITION_DAY, if you want to run ETL once every 7 days, but when you run you want to move 5 days worth of data to the dest, set hold to 7 and gather to 5.
 Hold and gather default to a scenario where we aggressively push data to the destination as soon as it is available.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>holdETLForPartions &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHoldETLForPartions(int)">
<h3>setHoldETLForPartions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setHoldETLForPartions</span>&#8203;<span class="parameters">(int&nbsp;holdETLForPartions)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getGatherETLinPartitions()">
<h3>getGatherETLinPartitions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getGatherETLinPartitions</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setGatherETLinPartitions(int)">
<h3>setGatherETLinPartitions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGatherETLinPartitions</span>&#8203;<span class="parameters">(int&nbsp;gatherETLinPartitions)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getName()">StoragePlugin</a></code></span></div>
<div class="block">Multiple PVs will probably use the same storage area and we identify the area using the name.
 This is principally used in capacity planning/load balancing to identify the storage area for the PV.
 We should make sure that storage's with similar lifetimes have the same name in all the appliances.
 The name is also used to identify the storage in the storage report.
 For example, the PlainPBStoragePlugin takes a name parameter and we should use something like STS as the identity for the short term store in all the appliances.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getName()">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#getName()">getName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt>Returns:</dt>
<dd>name</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotalSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">
<h3>getTotalSpace</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalSpace</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getTotalSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">StorageMetrics</a></code></span></div>
<div class="block">Gets the total space left on this device.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getTotalSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">getTotalSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt>Parameters:</dt>
<dd><code>storageMetricsContext</code> - StorageMetricsContext</dd>
<dt>Returns:</dt>
<dd>getTotalSpac &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUsableSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">
<h3>getUsableSpace</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUsableSpace</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/etl/StorageMetricsContext.html" title="interface in org.epics.archiverappliance.etl">StorageMetricsContext</a>&nbsp;storageMetricsContext)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getUsableSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">StorageMetrics</a></code></span></div>
<div class="block">Gets the space available to this VM on this device</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#getUsableSpace(org.epics.archiverappliance.etl.StorageMetricsContext)">getUsableSpace</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt>Parameters:</dt>
<dd><code>storageMetricsContext</code> - StorageMetricsContext</dd>
<dt>Returns:</dt>
<dd>getUsableSpace &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="spaceConsumedByPV(java.lang.String)">
<h3>spaceConsumedByPV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">spaceConsumedByPV</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#spaceConsumedByPV(java.lang.String)">StorageMetrics</a></code></span></div>
<div class="block">Gets an estimate of the space consumed by this PV on this device.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html#spaceConsumedByPV(java.lang.String)">spaceConsumedByPV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/StorageMetrics.html" title="interface in org.epics.archiverappliance.etl">StorageMetrics</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pvName</code> - The name of PV.</dd>
<dt>Returns:</dt>
<dd>spaceConsumedByPV &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setName(java.lang.String)">
<h3>setName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setName</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
</section>
</li>
<li>
<section class="detail" id="getCompressionMode()">
<h3>getCompressionMode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PlainPBStoragePlugin.CompressionMode.html" title="enum class in edu.stanford.slac.archiverappliance.PlainPB">PlainPBStoragePlugin.CompressionMode</a></span>&nbsp;<span class="element-name">getCompressionMode</span>()</div>
</section>
</li>
<li>
<section class="detail" id="consolidateOnShutdown()">
<h3>consolidateOnShutdown</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">consolidateOnShutdown</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#consolidateOnShutdown()">ETLSource</a></code></span></div>
<div class="block">Should ETL move data from this source to the destination on shutdown. 
 For example, if you are using a ramdisk for the STS and you have a UPS, you can minimize any data loss but turning this bit on for data stores that are on the ramdisk.
 On shutdown, ETL will try to move the data out of this store into the next lifetime store.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html#consolidateOnShutdown()">consolidateOnShutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/etl/ETLSource.html" title="interface in org.epics.archiverappliance.etl">ETLSource</a></code></dd>
<dt>Returns:</dt>
<dd>boolean True or False</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="renamePV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.lang.String)">
<h3>renamePV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">renamePV</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;oldName,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;newName)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#renamePV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.lang.String)">StoragePlugin</a></code></span></div>
<div class="block">Change the name of a PV. This happens occasionally in the EPICS world when people change the names of PVs but want to retain the data.
 This method is used to change the name of the PV in any of the datasets for PV <code>oldName</code>.
 For example, in PB files, the name of the PV is encoded in the file names and is also stored in the header. In this case, we expect the plugin to move the data to new files names and change the PV name in the file header.
 To avoid getting into issues about data changing when renaming files, the PV can be assumed to be in a paused state.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#renamePV(org.epics.archiverappliance.common.BasicContext,java.lang.String,java.lang.String)">renamePV</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>oldName</code> - The old PV name</dd>
<dd><code>newName</code> - The new PV name</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convert(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.etl.ConversionFunction)">
<h3>convert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">convert</span>&#8203;<span class="parameters">(<a href="../../../../../org/epics/archiverappliance/common/BasicContext.html" title="class in org.epics.archiverappliance.common">BasicContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pvName,
 <a href="../../../../../org/epics/archiverappliance/etl/ConversionFunction.html" title="interface in org.epics.archiverappliance.etl">ConversionFunction</a>&nbsp;conversionFuntion)</span>
             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#convert(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.etl.ConversionFunction)">StoragePlugin</a></code></span></div>
<div class="block">Sometimes, PVs change types, EGUs etc. 
 In these cases, we are left with the problem of what to do with the already archived data.
 We can rename the PV to a new but related name - this keeps the existing data as is.
 Or, we can attempt to convert to the new type, EGU etc.
 This method can be used to convert the existing data using the supplied conversion function.
 Conversions should be all or nothing; that is, first convert all the streams into temporary chunks and then do a bulk rename once all the conversions have succeeded.
 Note that we'll also be using the same conversion mechanism for imports and other functions that change data.
 So, when/if implementing the conversion function, make sure we respect the typical expectations within the archiver - monotonically increasing timestamps and so on.
 To avoid getting into issues about data changing when converting, the PV can be assumed to be in a paused state.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html#convert(org.epics.archiverappliance.common.BasicContext,java.lang.String,org.epics.archiverappliance.etl.ConversionFunction)">convert</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/epics/archiverappliance/StoragePlugin.html" title="interface in org.epics.archiverappliance">StoragePlugin</a></code></dd>
<dt>Parameters:</dt>
<dd><code>context</code> - &emsp;</dd>
<dd><code>pvName</code> - The PV name</dd>
<dd><code>conversionFuntion</code> - &emsp;</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - &emsp;</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
